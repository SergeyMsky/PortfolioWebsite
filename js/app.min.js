let images=document.images,imagesTotalCount=images.length,imagesLoadedCount=0,preloader=document.querySelector("#page-preloader"),percDisplay=document.querySelector("#perc-load");for(let e=0;e<imagesTotalCount;e++)imageClone=new Image,imageClone.onload=imageLoaded,imageClone.onerror=imageLoaded,imageClone.src=images[e].src;function imageLoaded(){imagesLoadedCount++,percDisplay.innerHTML=(100/imagesTotalCount*imagesLoadedCount<<0)+"%",imagesLoadedCount>=imagesTotalCount&&setTimeout((function(){preloader.classList.contains("done")||(preloader.classList.add("done"),setTimeout((function(){p1.remove(),p2.remove()}),2e3))}),500)}imagesTotalCount<=0&&(percDisplay.innerHTML="100%",setTimeout((function(){preloader.classList.contains("done")||(preloader.classList.add("done"),setTimeout((function(){p1.remove(),p2.remove()}),2e3))}),500));const p1=document.querySelector(".preloader__itm--shape-1"),p2=document.querySelector(".preloader__itm--shape-2");anime({targets:p1,translateX:[-40,40],loop:!0,direction:"alternate",easing:"easeInOutQuad",backgroundColor:"rgb(244,67,54)",duration:900}),anime({targets:p2,translateX:[40,-40],loop:!0,direction:"alternate",easing:"easeInOutQuad",backgroundColor:"rgb(33,150,243)",duration:900});const body=document.querySelector("body"),links=document.getElementsByTagName("a"),button=document.getElementsByTagName("button"),cursor=document.querySelector("#cursor"),follower=document.querySelector("#aura"),sliderDirection=document.querySelector(".works__slider");function mouseCoords(e){mouseX=e.pageX,mouseY=e.pageY}cx=window.innerWidth/2,cy=window.innerHeight/2,body.addEventListener("mousemove",(e=>{clientX=e.pageX,clientY=e.pageY,mouseCoords(e),cursor.classList.remove("hidden"),follower.classList.remove("hidden");for(let e=0;e<links.length;e++)links[e].addEventListener("mouseover",(()=>{cursor.classList.add("active"),follower.classList.add("active-link")})),links[e].addEventListener("mouseout",(()=>{cursor.classList.remove("active"),follower.classList.remove("active-link")}));for(let e=0;e<button.length;e++)button[e].addEventListener("mouseover",(()=>{cursor.classList.add("active"),follower.classList.add("active-btn")})),button[e].addEventListener("mouseout",(()=>{cursor.classList.remove("active"),follower.classList.remove("active-btn")}))})),body.addEventListener("mouseout",(()=>{cursor.classList.add("hidden"),follower.classList.add("hidden")})),sliderDirection&&(sliderDirection.addEventListener("mousedown",(()=>{cursor.classList.add("hold"),follower.classList.add("hold")})),body.addEventListener("mouseup",(()=>{cursor.classList.remove("hold"),follower.classList.remove("hold")}))),mouseX=0,mouseY=0,posX=0,posY=0,gsap.to({},.01,{repeat:-1,onRepeat:()=>{posX+=(mouseX-posX)/5,posY+=(mouseY-posY)/5,gsap.set(cursor,{css:{left:mouseX,top:mouseY}}),gsap.set(follower,{css:{left:posX-23,top:posY-23}})}});const $slider=$(".works__slider"),sliderCounter=document.querySelector(".slider-counter"),scrollCount=null,scroll=null;let newText;if($(document).ready((function(){$slider.length&&$(".works__slider").slick({arrows:!1,dots:!0,slidesToShow:1,slidesToScroll:1,infinite:!1,touchThreshold:100,variableWidth:!0,speed:1500,responsive:[{breakpoint:530,settings:{variableWidth:!1,speed:300,touchThreshold:5}}]})})),$slider.length){let e=function(e,t){currentSlide=e.slickCurrentSlide()+1,$(sliderCounter).text(currentSlide),nextSlide=newText,1===currentSlide?$(nameWork).text(nextSlide="Cryptocurrency"):2===currentSlide?$(nameWork).text(nextSlide="Barbershop"):$(nameWork).text(nextSlide="Papershop")};$slider.on("afterChange",(function(t,o,a){e(o,a)})),$slider.on("wheel",(function(e){e.preventDefault(),e.originalEvent.deltaY>0?$(this).slick("slickNext"):$(this).slick("slickPrev")}))}const moveText=document.querySelector(".title__container, .title-column"),moveNumber=document.querySelector(".works__progress-number");window.addEventListener("mousemove",(function(e){let t=e.clientX/window.innerWidth,o=e.clientY/window.innerHeight;moveNumber&&window.matchMedia("(min-width: 1023px)").matches&&(moveNumber.style.transform="translate(-"+15*t+"px, -"+15*o+"px)"),window.matchMedia("(min-width: 1023px)").matches&&(moveText.style.transform="translate("+10*t+"px, "+10*o+"px)")}));const menuItm=document.querySelectorAll(".menu__itm"),mainTitleText=document.querySelector(".title__container"),nameWork=document.querySelector(".works__name--text");preloader.classList.contains("done")||setTimeout((()=>{setTimeout((()=>{anime({targets:".box-text__itm span",translateX:anime.stagger(100,{grid:[24,5],from:"center",axis:"x"}),translateY:anime.stagger(100,{grid:[24,5],from:"center",axis:"y"}),rotateZ:anime.stagger([0,10],{grid:[14,5],from:"center",axis:"x"}),delay:anime.stagger(200,{grid:[14,5],from:"center"}),easing:"easeInOutQuad",direction:"reverse",scale:.5,opacity:0}),anime({targets:".title__container",opacity:1})}),900),anime({targets:".title-column span",translateX:180,delay:anime.stagger(100)}),anime({targets:".works__progress-number span",translateY:400,delay:anime.stagger(100),easing:"easeInOutQuad"}),anime({targets:".slider__itm",translateX:20,delay:anime.stagger(200),easing:"easeInOutQuad",opacity:1}),anime({targets:".slick-dots button",translateY:-170,delay:anime.stagger(100,{start:650}),opacity:1}),anime({targets:".home .footer__contacts span",translateY:[200,0],delay:anime.stagger(30),rotate:360}),anime({targets:".photo__overlay",translateY:1100,delay:0,duration:1e3,easing:"easeInSine"}),anime({targets:".photo",opacity:.8,delay:500,duration:900,easing:"easeInSine"}),anime({targets:".about__overlay",translateX:1100,delay:0,duration:1e3,easing:"easeInSine"}),anime({targets:".content-about",translateX:0,opacity:1,delay:600,duration:200,easing:"easeInSine"}),menuItm.forEach((e=>{e.style.opacity="1"})),nameWork&&(nameWork.style.opacity="1")}),1700);